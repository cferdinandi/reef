/*! reef v11.0.0BETA | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/reef */
function t(t,n){return"object"==typeof t&&(t=new Proxy(t,function t(n){return{get:function(e,o){return"object"==typeof e[o]?new Proxy(e[o],t(n)):e[o]},set:function(t,e,o){return t[e]===o||(t[e]=o,n.run()),!0},deleteProperty:function(t,e){return delete t[e],n.run(),!0}}}(n))),t}function n(n){n=t(n,this),this._debounce=null,Object.defineProperties(this,{data:{get:function(){return n},set:function(e){return n=t(e,this),this.run(),!0}},fns:{value:[]}})}function e(t,n){Object.defineProperties(this,{el:{value:"string"==typeof t?document.querySelector(t):t},fn:{value:n},props:{value:[]}}),this._debounce=null}n.prototype.do=function(...t){for(let n of t)this.fns.includes(n)||(this.fns.push(n),n.add(this))},n.prototype.stop=function(...t){for(let n of t){let t=this.fns.indexOf(n);if(t<0)return;this.fns.splice(t,1),n.rm(this)}},n.prototype.run=function(){for(let t of this.fns)t.run()},e.prototype.add=function(t){this.props.push(t)},e.prototype.rm=function(t){let n=this.props.indexOf(t);n<0||this.props.splice(n,1)};let o=function(t,n){function o(t,n){e.call(this,t,n)}return o.prototype=Object.create(e.prototype),o}();var r;function i(t,n){return new o(t,n)}o.prototype.run=(r=function(){var t;console.log("ran"),this.el.textContent=this.fn(...(t=this,t.props.map((function(t){return t.data}))))},function(){let t=this,n=arguments;t._debounce&&window.cancelAnimationFrame(t._debounce),t._debounce=window.requestAnimationFrame((function(){r.apply(t,n)}))});export{n as Store,i as text};
