/*! reef v11.0.0BETA | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/reef */
function t(t){for(let n of t.fns)n.run()}function n(n,e){return"object"==typeof n&&(n=new Proxy(n,function n(e){return{get:function(t,o){return"object"==typeof t[o]?new Proxy(t[o],n(e)):t[o]},set:function(n,o,i){return n[o]===i||(n[o]=i,t(e)),!0},deleteProperty:function(n,o){return delete n[o],t(e),!0}}}(e))),n}function e(e){e=n(e,this),this._debounce=null,Object.defineProperties(this,{data:{get:function(){return e},set:function(o){return e=n(o,this),t(this),!0}},fns:{value:[]}})}function o(t,n){Object.defineProperties(this,{el:{value:"string"==typeof t?document.querySelector(t):t},fn:{value:n},props:{value:[]}}),console.log(this.el)}e.prototype.do=function(...t){for(let n of t)this.fns.includes(n)||(this.fns.push(n),n.add(this))},e.prototype.stop=function(...t){for(let n of t){let t=this.fns.indexOf(n);if(t<0)return;this.fns.splice(t,1),n.rm(this)}},e.prototype.run=function(){t(this)},o.prototype.add=function(t){this.props.push(t)},o.prototype.rm=function(t){let n=this.props.indexOf(t);n<0||this.props.splice(n,1)};let i=function(t,n){function e(t,n){o.call(this,t,n)}return e.prototype=Object.create(o.prototype),e}();function r(t,n){return new i(t,n)}i.prototype.run=function(t){let n;return function(){let e=this,o=arguments;n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame((function(){t.apply(e,o)}))}}((function(){var t;this.el.textContent=this.fn(...(t=this,t.props.map((function(t){return t.data}))))}));export{e as Store,r as text};
