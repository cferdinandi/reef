/*! reef v11.0.0BETA | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/reef */
define(["exports"],(function(t){"use strict";function e(t){for(let e of t.fns)e.run()}function n(t,n){return"object"==typeof t&&(t=new Proxy(t,function t(n){return{get:function(e,o){return"object"==typeof e[o]?new Proxy(e[o],t(n)):e[o]},set:function(t,o,i){return t[o]===i||(t[o]=i,e(n)),!0},deleteProperty:function(t,o){return delete t[o],e(n),!0}}}(n))),t}function o(t){t=n(t,this),this._debounce=null,Object.defineProperties(this,{data:{get:function(){return t},set:function(o){return t=n(o,this),e(this),!0}},fns:{value:[]}})}function i(t,e){Object.defineProperties(this,{el:{value:"string"==typeof t?document.querySelector(t):t},fn:{value:e},props:{value:[]}}),console.log(this.el)}o.prototype.do=function(...t){for(let e of t)this.fns.includes(e)||(this.fns.push(e),e.add(this))},o.prototype.stop=function(...t){for(let e of t){let t=this.fns.indexOf(e);if(t<0)return;this.fns.splice(t,1),e.rm(this)}},o.prototype.run=function(){e(this)},i.prototype.add=function(t){this.props.push(t)},i.prototype.rm=function(t){let e=this.props.indexOf(t);e<0||this.props.splice(e,1)};let r=function(t,e){function n(t,e){i.call(this,t,e)}return n.prototype=Object.create(i.prototype),n}();r.prototype.run=function(t){let e;return function(){let n=this,o=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame((function(){t.apply(n,o)}))}}((function(){var t;this.el.textContent=this.fn(...(t=this,t.props.map((function(t){return t.data}))))})),t.Store=o,t.text=function(t,e){return new r(t,e)},Object.defineProperty(t,"__esModule",{value:!0})}));
